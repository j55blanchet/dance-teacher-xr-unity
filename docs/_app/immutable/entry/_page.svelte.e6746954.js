import{S as se,i as ae,s as re,k as y,l as b,m as k,h as d,n as g,b as P,g as w,v as U,f as j,d as q,J as ce,K as ie,e as Z,L as fe,a as F,c as M,M as x,G as u,N as ue,H as ee,q as A,y as z,r as L,z as G,A as J,u as B,B as K,O as de,p as oe}from"../chunks/index.53e576d4.js";import{d as he,a as me,m as _e}from"../chunks/dances-store.586eedb5.js";function te(c,e,r){const a=c.slice();return a[6]=e[r],a}function pe(c){let e,r,a,t;function f(s,i){return s[6].href?ye:ge}let l=f(c),o=l(c);function n(){return c[4](c[6])}return{c(){e=y("li"),o.c(),r=F(),this.h()},l(s){e=b(s,"LI",{class:!0});var i=k(e);o.l(i),r=M(i),i.forEach(d),this.h()},h(){g(e,"class","outlined thin file svelte-8l6qvc"),x(e,"selected",c[1]===c[6].file)},m(s,i){P(s,e,i),o.m(e,null),u(e,r),a||(t=ue(e,"click",n),a=!0)},p(s,i){c=s,l===(l=f(c))&&o?o.p(c,i):(o.d(1),o=l(c),o&&(o.c(),o.m(e,r))),i&3&&x(e,"selected",c[1]===c[6].file)},i:ee,o:ee,d(s){s&&d(e),o.d(),a=!1,t()}}}function ve(c){let e,r,a,t=c[6].name+"",f,l,o,n,s;return o=new Y({props:{menuContents:c[6].contents,selectedFile:c[1]}}),o.$on("fileSelected",c[3]),{c(){e=y("li"),r=y("details"),a=y("summary"),f=A(t),l=F(),z(o.$$.fragment),n=F(),this.h()},l(i){e=b(i,"LI",{class:!0});var _=k(e);r=b(_,"DETAILS",{class:!0});var h=k(r);a=b(h,"SUMMARY",{class:!0});var p=k(a);f=L(p,t),p.forEach(d),l=M(h),G(o.$$.fragment,h),h.forEach(d),n=M(_),_.forEach(d),this.h()},h(){g(a,"class","svelte-8l6qvc"),g(r,"class","svelte-8l6qvc"),g(e,"class","folder svelte-8l6qvc")},m(i,_){P(i,e,_),u(e,r),u(r,a),u(a,f),u(r,l),J(o,r,null),u(e,n),s=!0},p(i,_){(!s||_&1)&&t!==(t=i[6].name+"")&&B(f,t);const h={};_&1&&(h.menuContents=i[6].contents),_&2&&(h.selectedFile=i[1]),o.$set(h)},i(i){s||(w(o.$$.fragment,i),s=!0)},o(i){q(o.$$.fragment,i),s=!1},d(i){i&&d(e),K(o)}}}function ge(c){let e=c[6].name+"",r;return{c(){r=A(e)},l(a){r=L(a,e)},m(a,t){P(a,r,t)},p(a,t){t&1&&e!==(e=a[6].name+"")&&B(r,e)},d(a){a&&d(r)}}}function ye(c){let e,r=c[6].name+"",a,t;return{c(){e=y("a"),a=A(r),this.h()},l(f){e=b(f,"A",{href:!0});var l=k(e);a=L(l,r),l.forEach(d),this.h()},h(){g(e,"href",t=c[6].href)},m(f,l){P(f,e,l),u(e,a)},p(f,l){l&1&&r!==(r=f[6].name+"")&&B(a,r),l&1&&t!==(t=f[6].href)&&g(e,"href",t)},d(f){f&&d(e)}}}function le(c){let e,r,a,t;const f=[ve,pe],l=[];function o(n,s){return n[6].type==="folder"?0:1}return e=o(c),r=l[e]=f[e](c),{c(){r.c(),a=Z()},l(n){r.l(n),a=Z()},m(n,s){l[e].m(n,s),P(n,a,s),t=!0},p(n,s){let i=e;e=o(n),e===i?l[e].p(n,s):(U(),q(l[i],1,1,()=>{l[i]=null}),j(),r=l[e],r?r.p(n,s):(r=l[e]=f[e](n),r.c()),w(r,1),r.m(a.parentNode,a))},i(n){t||(w(r),t=!0)},o(n){q(r),t=!1},d(n){l[e].d(n),n&&d(a)}}}function be(c){let e,r,a=c[0],t=[];for(let l=0;l<a.length;l+=1)t[l]=le(te(c,a,l));const f=l=>q(t[l],1,1,()=>{t[l]=null});return{c(){e=y("ul");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=b(l,"UL",{class:!0});var o=k(e);for(let n=0;n<t.length;n+=1)t[n].l(o);o.forEach(d),this.h()},h(){g(e,"class","svelte-8l6qvc")},m(l,o){P(l,e,o);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null);r=!0},p(l,[o]){if(o&7){a=l[0];let n;for(n=0;n<a.length;n+=1){const s=te(l,a,n);t[n]?(t[n].p(s,o),w(t[n],1)):(t[n]=le(s),t[n].c(),w(t[n],1),t[n].m(e,null))}for(U(),n=a.length;n<t.length;n+=1)f(n);j()}},i(l){if(!r){for(let o=0;o<a.length;o+=1)w(t[o]);r=!0}},o(l){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)q(t[o]);r=!1},d(l){l&&d(e),ce(t,l)}}}function ke(c,e,r){const a=ie();let{menuContents:t}=e,{selectedFile:f=null}=e;function l(s){a("fileSelected",s)}function o(s){fe.call(this,c,s)}const n=s=>l(s.file);return c.$$set=s=>{"menuContents"in s&&r(0,t=s.menuContents),"selectedFile"in s&&r(1,f=s.selectedFile)},[t,f,l,o,n]}class Y extends se{constructor(e){super(),ae(this,e,ke,be,re,{menuContents:0,selectedFile:1})}}function ne(c){let e,r,a=c[0].title+"",t,f,l,o;return l=new Y({props:{menuContents:c[1]}}),{c(){e=y("div"),r=y("p"),t=A(a),f=F(),z(l.$$.fragment),this.h()},l(n){e=b(n,"DIV",{class:!0,style:!0});var s=k(e);r=b(s,"P",{class:!0});var i=k(r);t=L(i,a),i.forEach(d),f=M(s),G(l.$$.fragment,s),s.forEach(d),this.h()},h(){g(r,"class","svelte-1n86eis"),g(e,"class","col"),oe(e,"max-width","40ch")},m(n,s){P(n,e,s),u(e,r),u(r,t),u(e,f),J(l,e,null),o=!0},p(n,s){(!o||s&1)&&a!==(a=n[0].title+"")&&B(t,a);const i={};s&2&&(i.menuContents=n[1]),l.$set(i)},i(n){o||(w(l.$$.fragment,n),o=!0)},o(n){q(l.$$.fragment,n),o=!1},d(n){n&&d(e),K(l)}}}function Ee(c){let e,r,a,t,f,l,o,n,s,i,_,h,p,E,C,I,$,S,O,H;S=new Y({props:{menuContents:c[2],selectedFile:c[0]}}),S.$on("fileSelected",c[5]);let m=c[0]&&ne(c);return{c(){e=y("meta"),r=F(),a=y("section"),t=y("h1"),f=A("LearnThatDance 2.0"),l=F(),o=y("p"),n=A("Try the "),s=y("a"),i=A("robot control"),_=A(" test page."),h=F(),p=y("div"),E=y("div"),C=y("p"),I=A("Pick a dance"),$=F(),z(S.$$.fragment),O=F(),m&&m.c(),this.h()},l(v){const T=de("svelte-t32ptj",document.head);e=b(T,"META",{name:!0,content:!0}),T.forEach(d),r=M(v),a=b(v,"SECTION",{class:!0});var D=k(a);t=b(D,"H1",{});var Q=k(t);f=L(Q,"LearnThatDance 2.0"),Q.forEach(d),l=M(D),o=b(D,"P",{class:!0});var N=k(o);n=L(N,"Try the "),s=b(N,"A",{href:!0});var W=k(s);i=L(W,"robot control"),W.forEach(d),_=L(N," test page."),N.forEach(d),h=M(D),p=b(D,"DIV",{class:!0});var R=k(p);E=b(R,"DIV",{class:!0,style:!0});var V=k(E);C=b(V,"P",{class:!0});var X=k(C);I=L(X,"Pick a dance"),X.forEach(d),$=M(V),G(S.$$.fragment,V),V.forEach(d),O=M(R),m&&m.l(R),R.forEach(d),D.forEach(d),this.h()},h(){document.title="Home",g(e,"name","description"),g(e,"content","Svelte demo app"),g(s,"href","/robot"),g(o,"class","svelte-1n86eis"),g(C,"class","svelte-1n86eis"),g(E,"class","col dance-picking ta-center"),oe(E,"max-width","60ch"),g(p,"class","cols"),g(a,"class","svelte-1n86eis")},m(v,T){u(document.head,e),P(v,r,T),P(v,a,T),u(a,t),u(t,f),u(a,l),u(a,o),u(o,n),u(o,s),u(s,i),u(o,_),u(a,h),u(a,p),u(p,E),u(E,C),u(C,I),u(E,$),J(S,E,null),u(p,O),m&&m.m(p,null),H=!0},p(v,[T]){const D={};T&1&&(D.selectedFile=v[0]),S.$set(D),v[0]?m?(m.p(v,T),T&1&&w(m,1)):(m=ne(v),m.c(),w(m,1),m.m(p,null)):m&&(U(),q(m,1,1,()=>{m=null}),j())},i(v){H||(w(S.$$.fragment,v),w(m),H=!0)},o(v){q(S.$$.fragment,v),q(m),H=!1},d(v){d(e),v&&d(r),v&&d(a),K(S),m&&m.d()}}}function $e(c,e,r){let a=[];for(const s of he){const i=s.clipRelativeStem,_=i.split("/");let h=null;for(let p=0;p<_.length;p++){const E=_[p],C=p===_.length-1;if(C&&h){h.contents.push({type:"file",name:s.title,file:s});break}else C&&a.push({type:"file",name:s.title,file:s});if(!h){const $=a.find(S=>S.name===E);if($){if($.type!=="folder")throw new Error("Invalid menu item type (probably due to overlapping folder and file names) for path:"+i);h=$;continue}h={type:"folder",name:E,contents:new Array,expanded:!1},a.push(h);continue}const I=h.contents.find($=>$.name===E);if(!I){const $={type:"folder",name:E,contents:new Array,expanded:!1};h.contents.push($),h=$;continue}if((I==null?void 0:I.type)==="folder"){h=I;continue}throw new Error("Invalid menu item type (probably due to overlapping folder and file names) for path:"+i)}}let t=null,f=[],l=[];function o(s){t===s?r(0,t=null):r(0,t=s)}const n=s=>o(s.detail);return c.$$.update=()=>{c.$$.dirty&1&&r(4,f=me[t==null?void 0:t.clipRelativeStem]??[]),c.$$.dirty&16&&r(1,l=f.map(function(s){return{type:"file",name:s.tree_name,file:s,href:"/teachlesson/"+_e(s)}}))},[t,l,a,o,f,n]}class Ce extends se{constructor(e){super(),ae(this,e,$e,Ee,re,{})}}export{Ce as default};
