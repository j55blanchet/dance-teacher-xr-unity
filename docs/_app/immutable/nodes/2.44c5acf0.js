import{S as j,i as N,s as R,k as v,l as y,m as $,h as m,n as b,b as M,g as S,v as z,f as B,d as I,J as x,K as ee,e as Y,L as te,a as w,c as C,M as G,D as h,N as ne,I as V,q as F,y as P,r as q,z as A,A as T,u as L,B as O,p as Z,O as le}from"../chunks/index.63361c4d.js";import{d as se,a as ae,m as re}from"../chunks/dances-store.f4487ea7.js";const oe=!0,be=Object.freeze(Object.defineProperty({__proto__:null,prerender:oe},Symbol.toStringTag,{value:"Module"}));function Q(c,e,l){const a=c.slice();return a[6]=e[l],a}function ie(c){let e,l,a,n;function i(r,f){return r[6].href?ue:fe}let t=i(c),o=t(c);function s(){return c[4](c[6])}return{c(){e=v("li"),o.c(),l=w(),this.h()},l(r){e=y(r,"LI",{class:!0});var f=$(e);o.l(f),l=C(f),f.forEach(m),this.h()},h(){b(e,"class","outlined thin file svelte-1i7xeq7"),G(e,"selected",c[1]===c[6].file)},m(r,f){M(r,e,f),o.m(e,null),h(e,l),a||(n=ne(e,"click",s),a=!0)},p(r,f){c=r,t===(t=i(c))&&o?o.p(c,f):(o.d(1),o=t(c),o&&(o.c(),o.m(e,l))),f&3&&G(e,"selected",c[1]===c[6].file)},i:V,o:V,d(r){r&&m(e),o.d(),a=!1,n()}}}function ce(c){let e,l,a,n=c[6].name+"",i,t,o,s,r;return o=new H({props:{menuContents:c[6].contents,selectedFile:c[1]}}),o.$on("fileSelected",c[3]),{c(){e=v("li"),l=v("details"),a=v("summary"),i=F(n),t=w(),P(o.$$.fragment),s=w(),this.h()},l(f){e=y(f,"LI",{class:!0});var _=$(e);l=y(_,"DETAILS",{class:!0});var d=$(l);a=y(d,"SUMMARY",{class:!0});var E=$(a);i=q(E,n),E.forEach(m),t=C(d),A(o.$$.fragment,d),d.forEach(m),s=C(_),_.forEach(m),this.h()},h(){b(a,"class","svelte-1i7xeq7"),b(l,"class","svelte-1i7xeq7"),b(e,"class","folder svelte-1i7xeq7")},m(f,_){M(f,e,_),h(e,l),h(l,a),h(a,i),h(l,t),T(o,l,null),h(e,s),r=!0},p(f,_){(!r||_&1)&&n!==(n=f[6].name+"")&&L(i,n);const d={};_&1&&(d.menuContents=f[6].contents),_&2&&(d.selectedFile=f[1]),o.$set(d)},i(f){r||(S(o.$$.fragment,f),r=!0)},o(f){I(o.$$.fragment,f),r=!1},d(f){f&&m(e),O(o)}}}function fe(c){let e=c[6].name+"",l;return{c(){l=F(e)},l(a){l=q(a,e)},m(a,n){M(a,l,n)},p(a,n){n&1&&e!==(e=a[6].name+"")&&L(l,e)},d(a){a&&m(l)}}}function ue(c){let e,l=c[6].name+"",a,n;return{c(){e=v("a"),a=F(l),this.h()},l(i){e=y(i,"A",{href:!0});var t=$(e);a=q(t,l),t.forEach(m),this.h()},h(){b(e,"href",n=c[6].href)},m(i,t){M(i,e,t),h(e,a)},p(i,t){t&1&&l!==(l=i[6].name+"")&&L(a,l),t&1&&n!==(n=i[6].href)&&b(e,"href",n)},d(i){i&&m(e)}}}function W(c){let e,l,a,n;const i=[ce,ie],t=[];function o(s,r){return s[6].type==="folder"?0:1}return e=o(c),l=t[e]=i[e](c),{c(){l.c(),a=Y()},l(s){l.l(s),a=Y()},m(s,r){t[e].m(s,r),M(s,a,r),n=!0},p(s,r){let f=e;e=o(s),e===f?t[e].p(s,r):(z(),I(t[f],1,1,()=>{t[f]=null}),B(),l=t[e],l?l.p(s,r):(l=t[e]=i[e](s),l.c()),S(l,1),l.m(a.parentNode,a))},i(s){n||(S(l),n=!0)},o(s){I(l),n=!1},d(s){t[e].d(s),s&&m(a)}}}function me(c){let e,l,a=c[0],n=[];for(let t=0;t<a.length;t+=1)n[t]=W(Q(c,a,t));const i=t=>I(n[t],1,1,()=>{n[t]=null});return{c(){e=v("ul");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=y(t,"UL",{class:!0});var o=$(e);for(let s=0;s<n.length;s+=1)n[s].l(o);o.forEach(m),this.h()},h(){b(e,"class","svelte-1i7xeq7")},m(t,o){M(t,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null);l=!0},p(t,[o]){if(o&7){a=t[0];let s;for(s=0;s<a.length;s+=1){const r=Q(t,a,s);n[s]?(n[s].p(r,o),S(n[s],1)):(n[s]=W(r),n[s].c(),S(n[s],1),n[s].m(e,null))}for(z(),s=a.length;s<n.length;s+=1)i(s);B()}},i(t){if(!l){for(let o=0;o<a.length;o+=1)S(n[o]);l=!0}},o(t){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)I(n[o]);l=!1},d(t){t&&m(e),x(n,t)}}}function de(c,e,l){const a=ee();let{menuContents:n}=e,{selectedFile:i=null}=e;function t(r){a("fileSelected",r)}function o(r){te.call(this,c,r)}const s=r=>t(r.file);return c.$$set=r=>{"menuContents"in r&&l(0,n=r.menuContents),"selectedFile"in r&&l(1,i=r.selectedFile)},[n,i,t,o,s]}class H extends j{constructor(e){super(),N(this,e,de,me,R,{menuContents:0,selectedFile:1})}}function X(c){let e,l,a=c[0].title+"",n,i,t,o;return t=new H({props:{menuContents:c[1]}}),{c(){e=v("div"),l=v("p"),n=F(a),i=w(),P(t.$$.fragment),this.h()},l(s){e=y(s,"DIV",{class:!0,style:!0});var r=$(e);l=y(r,"P",{class:!0});var f=$(l);n=q(f,a),f.forEach(m),i=C(r),A(t.$$.fragment,r),r.forEach(m),this.h()},h(){b(l,"class","svelte-e2eikq"),b(e,"class","col"),Z(e,"max-width","40ch")},m(s,r){M(s,e,r),h(e,l),h(l,n),h(e,i),T(t,e,null),o=!0},p(s,r){(!o||r&1)&&a!==(a=s[0].title+"")&&L(n,a);const f={};r&2&&(f.menuContents=s[1]),t.$set(f)},i(s){o||(S(t.$$.fragment,s),o=!0)},o(s){I(t.$$.fragment,s),o=!1},d(s){s&&m(e),O(t)}}}function he(c){let e,l,a,n,i,t,o,s,r,f,_,d,E;o=new H({props:{menuContents:c[2],selectedFile:c[0]}}),o.$on("fileSelected",c[5]);let u=c[0]&&X(c);return{c(){e=v("section"),l=v("h1"),a=F("Pick a dance"),n=w(),i=v("div"),t=v("div"),P(o.$$.fragment),s=w(),u&&u.c(),r=w(),f=v("div"),_=v("a"),d=F("Settings Page"),this.h()},l(g){e=y(g,"SECTION",{class:!0});var p=$(e);l=y(p,"H1",{});var k=$(l);a=q(k,"Pick a dance"),k.forEach(m),n=C(p),i=y(p,"DIV",{class:!0});var D=$(i);t=y(D,"DIV",{class:!0,style:!0});var U=$(t);A(o.$$.fragment,U),U.forEach(m),s=C(D),u&&u.l(D),D.forEach(m),r=C(p),f=y(p,"DIV",{});var J=$(f);_=y(J,"A",{href:!0});var K=$(_);d=q(K,"Settings Page"),K.forEach(m),J.forEach(m),p.forEach(m),this.h()},h(){b(t,"class","col dance-picking ta-center"),Z(t,"max-width","60ch"),b(i,"class","cols"),b(_,"href","/settings"),b(e,"class","svelte-e2eikq")},m(g,p){M(g,e,p),h(e,l),h(l,a),h(e,n),h(e,i),h(i,t),T(o,t,null),h(i,s),u&&u.m(i,null),h(e,r),h(e,f),h(f,_),h(_,d),E=!0},p(g,[p]){const k={};p&1&&(k.selectedFile=g[0]),o.$set(k),g[0]?u?(u.p(g,p),p&1&&S(u,1)):(u=X(g),u.c(),S(u,1),u.m(i,null)):u&&(z(),I(u,1,1,()=>{u=null}),B())},i(g){E||(S(o.$$.fragment,g),S(u),E=!0)},o(g){I(o.$$.fragment,g),I(u),E=!1},d(g){g&&m(e),O(o),u&&u.d()}}}function _e(c,e,l){let a=[];for(const r of se){const f=r.clipRelativeStem,_=f.split("/");let d=null;for(let E=0;E<_.length;E++){const u=_[E],g=E===_.length-1;if(g&&d){d.contents.push({type:"file",name:r.title,file:r});break}else g&&a.push({type:"file",name:r.title,file:r});if(!d){const k=a.find(D=>D.name===u);if(k){if(k.type!=="folder")throw new Error("Invalid menu item type (probably due to overlapping folder and file names) for path:"+f);d=k;continue}d={type:"folder",name:u,contents:new Array,expanded:!1},a.push(d);continue}const p=d.contents.find(k=>k.name===u);if(!p){const k={type:"folder",name:u,contents:new Array,expanded:!1};d.contents.push(k),d=k;continue}if((p==null?void 0:p.type)==="folder"){d=p;continue}throw new Error("Invalid menu item type (probably due to overlapping folder and file names) for path:"+f)}}let n=null,i=[],t=[];function o(r){n===r?l(0,n=null):l(0,n=r)}const s=r=>o(r.detail);return c.$$.update=()=>{c.$$.dirty&1&&l(4,i=ae[n==null?void 0:n.clipRelativeStem]??[]),c.$$.dirty&16&&l(1,t=i.map(function(r){return{type:"file",name:r.tree_name,file:r,href:"/teachlesson/"+re(r)}}))},[n,t,a,o,i,s]}class pe extends j{constructor(e){super(),N(this,e,_e,he,R,{})}}function ge(c){let e,l,a,n;return a=new pe({}),{c(){e=v("meta"),l=w(),P(a.$$.fragment),this.h()},l(i){const t=le("svelte-t32ptj",document.head);e=y(t,"META",{name:!0,content:!0}),t.forEach(m),l=C(i),A(a.$$.fragment,i),this.h()},h(){document.title="Home",b(e,"name","description"),b(e,"content","Svelte demo app")},m(i,t){h(document.head,e),M(i,l,t),T(a,i,t),n=!0},p:V,i(i){n||(S(a.$$.fragment,i),n=!0)},o(i){I(a.$$.fragment,i),n=!1},d(i){m(e),i&&m(l),O(a,i)}}}class ke extends j{constructor(e){super(),N(this,e,null,ge,R,{})}}export{ke as component,be as universal};
